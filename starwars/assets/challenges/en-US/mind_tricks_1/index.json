{
    "version": "1.0.0",
    "id": "mind_tricks_1",
    "name": "Jedi Mind Trick",
    "defaultApp": "{\"source\":\"<xml xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><block type=\\\"events_onStart\\\" id=\\\"S,ug_0BJh2*3C);PxB+3\\\" x=\\\"100\\\" y=\\\"78\\\"><field name=\\\"FLASH\\\"></field><statement name=\\\"CALLBACK\\\"><block type=\\\"every_x_seconds\\\" id=\\\"C9+sAEYjKQKKHI(f+8C7\\\"><field name=\\\"UNIT\\\">frames</field><value name=\\\"INTERVAL\\\"><shadow type=\\\"math_number\\\" id=\\\"MKiX]ibv7{M@ySM-j]lV\\\"><field name=\\\"NUM\\\">1</field></shadow></value><statement name=\\\"DO\\\"><block type=\\\"position_lerpTowards\\\" id=\\\"[|dgp4m02{;O(cx_J1jD\\\"><value name=\\\"TARGET\\\"><shadow type=\\\"objects_get\\\" id=\\\"S|9)93[evuHRD/+diW]A\\\"><field name=\\\"ID\\\">Stormtrooper</field></shadow></value><value name=\\\"POSITION\\\"><shadow type=\\\"position_create\\\" id=\\\"od6$-Yu3vSR1yJx(YW}x\\\"><value name=\\\"X\\\"><shadow type=\\\"math_number\\\" id=\\\"V5AY3!i~rRJNaX-cd3_n\\\"><field name=\\\"NUM\\\">100</field></shadow></value><value name=\\\"Y\\\"><shadow type=\\\"math_number\\\" id=\\\"PGa%FGZ]*N,BDqtRj/px\\\"><field name=\\\"NUM\\\">450</field></shadow></value></shadow></value><value name=\\\"ANGLE\\\"><shadow type=\\\"angle\\\" id=\\\"]d;ehyLV_M7O5iYfiv6D\\\"><field name=\\\"VALUE\\\">0</field></shadow></value><value name=\\\"PERCENTAGE\\\"><shadow type=\\\"math_number\\\" id=\\\"tL|G);v[2U*]jzJA$s^`\\\"><field name=\\\"NUM\\\">0.6</field></shadow></value><next><block type=\\\"position_lerpTowards\\\" id=\\\"oLPF{gE,RsHrO`E-oJ6D\\\"><value name=\\\"TARGET\\\"><shadow type=\\\"objects_get\\\" id=\\\"d`2}$N](^AiFEVc8qG_)\\\"><field name=\\\"ID\\\">Stormtrooper 2</field></shadow></value><value name=\\\"POSITION\\\"><shadow type=\\\"position_create\\\" id=\\\"fSg{nmp4w7P_LkGJ-B[+\\\"><value name=\\\"X\\\"><shadow type=\\\"math_number\\\" id=\\\"jD~f9c1[O5-Nh`=pVT}J\\\"><field name=\\\"NUM\\\">240</field></shadow></value><value name=\\\"Y\\\"><shadow type=\\\"math_number\\\" id=\\\"73Vanxbegv7ToP/_]}Zr\\\"><field name=\\\"NUM\\\">450</field></shadow></value></shadow></value><value name=\\\"ANGLE\\\"><shadow type=\\\"angle\\\" id=\\\"vY6=~X7__5v-^~F([^Sb\\\"><field name=\\\"VALUE\\\">0</field></shadow></value><value name=\\\"PERCENTAGE\\\"><shadow type=\\\"math_number\\\" id=\\\"VO]bFpU_{~~rqj=r@t{0\\\"><field name=\\\"NUM\\\">0.8</field></shadow></value><next></next></block></next></block></statement></block></statement></block></xml>\",\"code\":\"// @challenge-id: mind_1\\n// @challenge-name: Jedi Mind Trick\\n\\nevents.onStart(function() {\\n  time.every(1, 'frames', function () {\\n    position.lerpTowards(objects.get('Stormtrooper'), position.create(100, 450), 0, 0.6);\\n    position.lerpTowards(objects.get('Stormtrooper 2'), position.create(240, 450), 0, 0.8);\\n    // @challenge-start\\n  });\\n\\n});\\n\\nevents.onSwipe('right', function() {\\n  objects.say(objects.getRandom('Obi-Wan Kenobi'), objects.quote('These aren’t the Droids you’re looking for.'), 5);\\n  time.later(6, 'seconds', function () {\\n    speaker.play('Mind trick');\\n    objects.say(objects.getRandom('Stormtrooper 2'), objects.quote('These aren’t the Droids we’re looking for.'), 5);\\n    time.later(6, 'seconds', function () {\\n      time.every(1, 'frames', function () {\\n        position.lerpTowards(objects.get('Stormtrooper'), position.create(-250, 450), 0, 0.8);\\n        position.lerpTowards(objects.get('Stormtrooper 2'), position.create(-100, 450), 0, 0.8);\\n        // @end-of-challenge: content\\n      });\\n    });\\n  });\\n\\n});\\n\",\"scene\":\"tatooine-mind-trick\",\"parts\":[],\"profile\":\"swk\"}",
    "steps": [
        {
            "banner": {
                "text": "C-3PO and R2-D2 are doomed. Unless you can employ an old Jedi Mind Trick to persuade the Stormtroopers. I’m not very optimistic about your odds.",
                "nextButton": true,
                "disableInput": true
            },
            "beacon":  "banner-button:100,50",
            "type": "banner-step"
        },
        {
            "type": "create-block",
            "category": "toolbox#events",
            "blockType": "events_onSwipe",
            "alias": "block_1",
            "openFlyoutCopy": "Get a <b>gesture block</b> from the ${toolbox#events} tray.",
            "grabBlockCopy": "Drag this block into the code space.",
            "positionUnder": true,
            "dropCopy": "Drop the block anywhere in your code space."
        },
        {
            "type": "change-input",
            "target": "alias#block_1>input#TYPE",
            "value": "left",
            "bannerCopy": "Change the <kc-string-preview> <img src=\"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtvcGFjaXR5OjAuODt9LmNscy0yLC5jbHMtM3tmaWxsOm5vbmU7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjEuMjZweDt9LmNscy0ye3N0cm9rZTojOWZhNGE4O30uY2xzLTN7c3Ryb2tlOnJlZDt9LmNscy00e2ZpbGw6IzAwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmdlc3R1cmVzPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEtMiIgY2xhc3M9ImNscy0xIj48Y2lyY2xlIGNsYXNzPSJjbHMtMiIgY3g9IjE1IiBjeT0iMTUiIHI9IjguMjkiLz48L2c+PC9nPjxnIGlkPSJMYXllcl8yLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+PGcgaWQ9IkxheWVyXzEtMi0yIiBkYXRhLW5hbWU9IkxheWVyIDEtMiIgY2xhc3M9ImNscy0xIj48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0xOC4xMSwyMi42OWE4LjMyLDguMzIsMCwwLDEtNi4zNCwwIi8+PC9nPjwvZz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMTUgMCAxMi40NCA0LjQzIDE3LjU2IDQuNDMgMTUgMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNCIgcG9pbnRzPSIxNS4xNiAzMCAxNC44NSAzMCAxNC4wOSA0LjQzIDE1LjkxIDQuNDMgMTUuMTYgMzAiLz48L3N2Zz4=\" width=\"15\" align=\"bottom\">  Forward</kc-string-preview> swipe to a <kc-string-preview> <img src=\"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtvcGFjaXR5OjAuODt9LmNscy0yLC5jbHMtM3tmaWxsOm5vbmU7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjEuMjZweDt9LmNscy0ye3N0cm9rZTojOWZhNGE4O30uY2xzLTN7c3Ryb2tlOnJlZDt9LmNscy00e2ZpbGw6IzAwMDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmdlc3R1cmVzPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEtMiIgY2xhc3M9ImNscy0xIj48Y2lyY2xlIGNsYXNzPSJjbHMtMiIgY3g9IjE1IiBjeT0iMTUiIHI9IjguMjkiLz48L2c+PC9nPjxnIGlkPSJMYXllcl8yLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+PGcgaWQ9IkxheWVyXzEtMi0yIiBkYXRhLW5hbWU9IkxheWVyIDEtMiIgY2xhc3M9ImNscy0xIj48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0xOC4xMSwyMi42OWE4LjMyLDguMzIsMCwwLDEtNi4zNCwwIi8+PC9nPjwvZz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMCAxNSA0LjQzIDE3LjU2IDQuNDMgMTIuNDQgMCAxNSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNCIgcG9pbnRzPSIzMCAxNC44NCAzMCAxNS4xNSA0LjQzIDE1LjkxIDQuNDMgMTQuMDkgMzAgMTQuODQiLz48L3N2Zz4=\" width=\"15\" align=\"bottom\">  Left</kc-string-preview> swipe from the dropdown list."
        },
        {
            "type": "create-block",
            "category": "toolbox#objects",
            "blockType": "objects_say",
            "alias": "block_2",
            "openFlyoutCopy": "When you swipe left, make Obi-Wan use a mind trick on the Stormtroopers. Open the ${toolbox#objects} tray.",
            "grabBlockCopy": "Drag the <b>say</b> block into the code space.",
            "connectTo": "alias#block_1>input#CALLBACK",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_2>input#OBJECT>shadow>input#ID",
            "value": "Obi-Wan Kenobi",
            "bannerCopy": "Change <kc-string-preview>random</kc-string-preview> to <kc-string-preview>Obi-Wan Kenobi</kc-string-preview>."
        },
        {
            "type": "create-block",
            "category": "toolbox#objects",
            "blockType": "objects_quote",
            "alias": "block_3",
            "openFlyoutCopy": "Open the ${toolbox#objects} tray.",
            "grabBlockCopy": "Drag the <b>quote</b> block into the code space.",
            "connectTo": "alias#block_2>input#TEXT",
            "connectCopy": "Connect to the <b>say</b> block."
        },
        {
            "type": "gesture-video",
            "gesture": "swMindTrickSwipe",
            "text": "Perform a Jedi Mind Trick hand movement to see what happens. Hopefully you'll get it right."
        },
        {
            "type": "create-block",
            "category": "toolbox#control",
            "blockType": "in_x_time",
            "alias": "block_4",
            "openFlyoutCopy": "Open the ${toolbox#control} tray.",
            "grabBlockCopy": "Drag the <b>In <kc-string-preview>1</kc-string-preview> seconds </b> block into the code space.",
            "connectTo": "alias#block_2>next",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_4>input#DELAY>shadow>input#NUM",
            "value": "6",
            "bannerCopy": "Change the number of seconds from <kc-string-preview>1</kc-string-preview> to <kc-string-preview>6</kc-string-preview>."
        },
        {
            "type": "create-part",
            "alias": "part_0",
            "part": "speaker",
            "openPartsCopy": "Add a Mind Trick sound effect. Add a ${part.speaker} using the Add Parts button."
        },
        {
            "type": "create-block",
            "category": "alias#part_0>toolbox",
            "blockType": "speaker_play",
            "alias": "block_5",
            "openFlyoutCopy": "Open the ${alias#part_0>toolbox} tray.",
            "grabBlockCopy": "Drag the <b>Speaker: play</b> block into the code space.",
            "connectTo": "alias#block_4>input#DO",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_5>input#SAMPLE>shadow>input#SAMPLE",
            "value": "mind-trick",
            "bannerCopy": "Change <kc-string-preview>Lightsaber hum</kc-string-preview> to <kc-string-preview>Mind trick</kc-string-preview>."
        },
        {
            "type": "create-block",
            "category": "toolbox#objects",
            "blockType": "objects_say",
            "alias": "block_6",
            "openFlyoutCopy": "After Obi-Wan has finished speaking, make the Stormtroopers say something back. Open the ${toolbox#objects} tray.",
            "grabBlockCopy": "Drag the <b>say</b> block into the code space.",
            "connectTo": "alias#block_5>next",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_6>input#OBJECT>shadow>input#ID",
            "value": "Stormtrooper 2",
            "bannerCopy": "Change <kc-string-preview>random</kc-string-preview> to <kc-string-preview>Stormtrooper 2</kc-string-preview>."
        },
        {
            "type": "create-block",
            "category": "toolbox#objects",
            "blockType": "objects_quote",
            "alias": "block_7",
            "openFlyoutCopy": "Open the ${toolbox#objects} tray to grab a <b>quote</b> block.",
            "grabBlockCopy": "Drag this block into the code space.",
            "connectTo": "alias#block_6>input#TEXT",
            "connectCopy": "Connect to the <b>say</b> block."
        },
        {
            "type": "change-input",
            "target": "alias#block_7>input#QUOTE",
            "value": "These aren’t the Droids we’re looking for.",
            "bannerCopy": "Scroll down the list and choose <kc-string-preview>These aren’t the Droids **we’re** looking for.</kc-string-preview> from the <b>Stormtrooper</b> section."
        },
        {
            "type": "gesture-video",
            "gesture": "swMindTrickSwipe",
            "text": "Try the Jedi Mind Trick again. The Stormtrooper should say what you want them to say."
        },
        {
            "type": "create-block",
            "category": "toolbox#control",
            "blockType": "in_x_time",
            "alias": "block_8",
            "openFlyoutCopy": "After your successful Mind Trick, have the Stormtroopers walk away again. Open the ${toolbox#control} tray.",
            "grabBlockCopy": "Drag the <b>In <kc-string-preview>1</kc-string-preview> seconds </b> block into the code space.",
            "connectTo": "alias#block_6>next",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_8>input#DELAY>shadow>input#NUM",
            "value": "6",
            "bannerCopy": "Change <kc-string-preview>1</kc-string-preview> to <kc-string-preview>6</kc-string-preview>."
        },
        {
            "type": "create-block",
            "category": "toolbox#control",
            "blockType": "every_x_seconds",
            "alias": "block_9",
            "openFlyoutCopy": "Get a <b>loop</b> block from the ${toolbox#control} tray.",
            "grabBlockCopy": "Drag the <b>Every <kc-string-preview>1</kc-string-preview> seconds </b> block into the code space.",
            "connectTo": "alias#block_8>input#DO",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_9>input#UNIT",
            "value": "frames",
            "bannerCopy": "Change <kc-string-preview>seconds</kc-string-preview> to <kc-string-preview>frames</kc-string-preview> from the dropdown list."
        },
        {
            "type": "create-block",
            "category": "toolbox#position",
            "blockType": "position_lerpTowards",
            "alias": "block_10",
            "openFlyoutCopy": "Use a <b>lerp</b> to move the Stormtroopers back off the canvas. Open the ${toolbox#position} tray.",
            "grabBlockCopy": "Drag the <b>Object: lerp</b> block into the code space.",
            "connectTo": "alias#block_9>input#DO",
            "connectCopy": "Connect it inside of the <b>Every <kc-string-preview>1</kc-string-preview> frames</b> loop."
        },
        {
            "type": "change-input",
            "target": "alias#block_10>input#TARGET>shadow>input#ID",
            "value": "Stormtrooper",
            "bannerCopy": "Change <kc-string-preview>all</kc-string-preview> to <kc-string-preview>Stormtrooper</kc-string-preview>."
        },
        {
            "type": "change-input",
            "target": "alias#block_10>input#POSITION>shadow>input#X>shadow>input#NUM",
            "value": "-250",
            "bannerCopy": "Change <kc-string-preview>400</kc-string-preview> to <kc-string-preview>-250</kc-string-preview>. That's 250 pixels left ← of the canvas."
        },
        {
            "type": "change-input",
            "target": "alias#block_10>input#POSITION>shadow>input#Y>shadow>input#NUM",
            "value": "450",
            "bannerCopy": "Change <kc-string-preview>300</kc-string-preview> to <kc-string-preview>450</kc-string-preview>."
        },
        {
            "type": "change-input",
            "target": "alias#block_10>input#PERCENTAGE>shadow>input#NUM",
            "value": "1",
            "bannerCopy": "Change the <b>percentage % </b> from <kc-string-preview>5</kc-string-preview> to <kc-string-preview>1</kc-string-preview> to make the Stormtrooper walk away slower."
        },
        {
            "type": "create-block",
            "category": "toolbox#position",
            "blockType": "position_lerpTowards",
            "alias": "block_11",
            "openFlyoutCopy": "Open the ${toolbox#position} tray.",
            "grabBlockCopy": "Drag this block into the code space.",
            "connectTo": "alias#block_10>next",
            "connectCopy": "Connect to this block."
        },
        {
            "type": "change-input",
            "target": "alias#block_11>input#TARGET>shadow>input#ID",
            "value": "Stormtrooper 2",
            "bannerCopy": "Change <kc-string-preview>all</kc-string-preview> to <kc-string-preview>Stormtrooper 2</kc-string-preview>."
        },
        {
            "type": "change-input",
            "target": "alias#block_11>input#POSITION>shadow>input#X>shadow>input#NUM",
            "value": "-100",
            "bannerCopy": "Change <kc-string-preview>400</kc-string-preview> to <kc-string-preview>-100</kc-string-preview>."
        },
        {
            "type": "change-input",
            "target": "alias#block_11>input#POSITION>shadow>input#Y>shadow>input#NUM",
            "value": "450",
            "bannerCopy": "Change <kc-string-preview>300</kc-string-preview> to <kc-string-preview>450</kc-string-preview>."
        },
        {
            "type": "change-input",
            "target": "alias#block_11>input#PERCENTAGE>shadow>input#NUM",
            "value": "1",
            "bannerCopy": "Change <kc-string-preview>5</kc-string-preview> to <kc-string-preview>1</kc-string-preview>."
        },
        {
            "type": "gesture-video",
            "gesture": "swMindTrickSwipe",
            "text": "Try it once more. Now the Stormtroopers should walk away after the friendly conversation."
        },
        {
            "banner": {
                "text": "Thank goodness Jedi Mind Tricks do not work on Droids.",
                "nextChallengeButton": true
            },
            "type": "banner-step"
        }
    ],
    "whitelist": {
        "objects": [
            "quote",
            "say"
        ],
        "position": [
            "lerpTowards"
        ],
        "control": [
            "every_x_seconds",
            "in_x_time"
        ],
        "speaker": [
            "play"
        ],
        "events": [
            "onSwipe"
        ]
    },
    "partsWhitelist": {
        "speaker": [
            "play"
        ]
    },
    "parts": [
        "speaker"
    ]
}
